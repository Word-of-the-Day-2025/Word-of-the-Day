<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word of the Day</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="The Word of the Day, every day at 4:00 PM UTC.">
    <!-- Meta tags for, not SEO, but unblocking my domain on many school networks. That's why you don't see anything about entertainment or fun here. -->
    <meta name="keywords" content="vocabulary, education, learning, language, pronunciation, definitions">
    <meta name="author" content="WOTD Team">
</head>
<body>

    <!-- Top Bar with Links -->
    <div class="top-bar">
        <a href="https://wotd.site">
            <img src="assets/wotd.svg" alt="WOTD" class="logo-left">
        </a>
        <div class="right-logos">
            <a href="https://www.instagram.com/wordoftheday_insta/">
                <img src="assets/instagram.svg" alt="Instagram" class="logo-right">
            </a>
            <a href="https://discord.gg/a7cZhpFMgk">
                <img src="assets/discord.svg" alt="Discord" class="logo-right">
            </a>
        </div>
    </div>

    <!-- Main Content Below the Top Bar -->
    <div class="content">
        <p id="date" class="date">Loading...</p>
        <h1 id="word" class="word">Loading...</h1>
        <p id="ipa" class="ipa">Loading...</p>
        <p class="define-as">Which is defined as:</p>
        <p id="definition" class="definition">Loading...</p>
    </div>

    <script>
        // Fetch the word of the day data from the API
        fetch('/api/wotd')
            .then(response => response.json())
            .then(data => {
                // Fill in the data dynamically
                document.getElementById('word').innerText = data.word;
                document.getElementById('ipa').innerText = data.ipa;
                document.getElementById('definition').innerText = '(' + data.type + ') ' + data.definition;

                // Format the date
                const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                const dateParts = data.date.split('-');
                const month = months[parseInt(dateParts[1]) - 1];
                const day = parseInt(dateParts[0]);
                const year = dateParts[2];
                const suffix = ['st', 'nd', 'rd'][((day + '').slice(-1) === '1' && day !== 11) || ((day + '').slice(-1) === '2' && day !== 12) || ((day + '').slice(-1) === '3' && day !== 13) ? (day + '').slice(-1) - 1 : 3] || 'th';
                document.getElementById('date').innerText = 'Today is ' + month + ' ' + day + suffix + ', ' + year + ', and the Word of the Day is:';
            })
            .catch(error => {
                console.error('Error fetching word of the day:', error);
            });
    </script>

</body>
</html>